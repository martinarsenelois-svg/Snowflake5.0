<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snowflake Chat</title>

<style>
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: #f5f5f5;
}

/* hide class for JS */
.hidden { display: none; }

/* LOGIN */
#loginScreen {
  padding: 20px;
  max-width: 350px;
  margin: 80px auto;
  text-align: center;
}

input, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 16px;
}

button {
  background: #1a73e8;
  color: white;
  border: none;
}

/* CHAT */
#chatScreen {
  display: none;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

#messages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
}

/* message bubbles */
.msg {
  max-width: 70%;
  padding: 8px 12px;
  margin: 6px 0;
  border-radius: 12px;
  font-size: 15px;
}

.me { background: #d7edff; margin-left: auto; }
.them { background: white; }

.ts { font-size: 11px; opacity: .6; margin-top: 4px; }

/* input bar */
#input-area {
  display: flex;
  gap: 6px;
  padding: 10px;
  background: #fff;
  border-top: 1px solid #ddd;
}

#msg {
  flex: 1;
  padding: 10px;
  border-radius: 20px;
  border: 1px solid #ccc;
}

#sendBtn {
  padding: 10px 16px;
  border-radius: 20px;
  background: #1a73e8;
  color: white;
  border: none;
}
</style>
</head>

<body class="prelogin">

<!-- LOGIN SCREEN -->
<div id="loginScreen">
  <h2>Enter Password</h2>
  <input id="loginPass" type="password" placeholder="Password">
  <button id="pwEnter">Enter</button>
  <div id="loginError" style="color:red;margin-top:8px;"></div>
</div>

<!-- CHAT SCREEN -->
<div id="chatScreen" class="hidden">

  <div id="messages"></div>

  <div id="input-area">
    <button id="fileBtn">ðŸ“Ž</button>
    <button id="voiceBtn">ðŸŽ¤</button>
    <button id="emojiBtn">ðŸ˜Š</button>
    <input id="msg" placeholder="Type a message...">
    <button id="sendBtn">Send</button>
  </div>

</div>

<!-- SETTINGS (required for your JS) -->
<div id="settings" class="hidden">
  <h3>Settings</h3>
  <input id="nameInput" placeholder="Your name">
  <button id="saveNameBtn">Save</button>
  <button id="createLinkBtn">Create Link</button>
  <input id="linkOut" readonly>
</div>

<!-- FIREBASE + YOUR SCRIPT -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="app.js"></script>

</body>
</html>